require "test_helper"

class ShippingServiceTest < ActiveSupport::TestCase
  # status of success but it's an error/failure
  # confusing_api_response = {"test"=>true, "extra"=>{}, "rates"=>[], "status"=>"SUCCESS", "parcels"=>[{"test"=>true, "extra"=>{}, "width"=>"3.5000", "height"=>"1.5000", "length"=>"3.5000", "weight"=>"10.1300", "metadata"=>"", "template"=>nil, "mass_unit"=>"lb", "object_id"=>"88a9cad444b542cb8cd0b6f838848a99", "line_items"=>[], "object_owner"=>"tblackman@greenriver.com", "object_state"=>"VALID", "value_amount"=>nil, "distance_unit"=>"in", "object_created"=>"2017-09-28T15:34:19.519Z", "object_updated"=>"2017-09-28T15:34:19.592Z", "value_currency"=>nil}], "messages"=>[{"code"=>"521", "text"=>"ERROR: Destination postal code missing or invalid. ", "source"=>"FedEx"}, {"code"=>"", "text"=>"Request failed. Please try again or contact Shippo support at support@goshippo.com.", "source"=>"USPS"}], "metadata"=>"", "object_id"=>"2b027bd6dab34f82801faf49993bd5ed", "address_to"=>{"zip"=>"", "city"=>"", "name"=>"sdf", "test"=>true, "email"=>"tblackman@greenriver.com", "phone"=>"", "state"=>"", "company"=>"", "country"=>"US", "street1"=>"", "street2"=>"", "street3"=>"", "object_id"=>"ff88dea256dd4d7fba79e89e22901392", "street_no"=>"", "is_complete"=>false, "is_residential"=>nil, "validation_results"=>{}}, "address_from"=>{"zip"=>"66212", "city"=>"Leawood", "name"=>"Kristin Ford", "test"=>true, "email"=>"amy@kristinford.com", "phone"=>"2063802700", "state"=>"KS", "company"=>"", "country"=>"US", "street1"=>"14325 Norwood", "street2"=>"", "street3"=>"", "object_id"=>"8adf20aaca6442b5b4d05dfcd1a2ae1c", "street_no"=>"", "is_complete"=>true, "is_residential"=>nil, "validation_results"=>{}}, "object_owner"=>"tblackman@greenriver.com", "shipment_date"=>"2017-09-28T15:34:19.518Z", "address_return"=>{"zip"=>"66212", "city"=>"Leawood", "name"=>"Kristin Ford", "test"=>true, "email"=>"amy@kristinford.com", "phone"=>"2063802700", "state"=>"KS", "company"=>"", "country"=>"US", "street1"=>"14325 Norwood", "street2"=>"", "street3"=>"", "object_id"=>"8adf20aaca6442b5b4d05dfcd1a2ae1c", "street_no"=>"", "is_complete"=>true, "is_residential"=>nil, "validation_results"=>{}}, "object_created"=>"2017-09-28T15:34:19.565Z", "object_updated"=>"2017-09-28T15:34:19.565Z", "carrier_accounts"=>[], "customs_declaration"=>nil}
end
